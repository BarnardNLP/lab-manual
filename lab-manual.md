# Barnard NLP Lab Manual

This is an introduction to carrying out research in the Barnard NLP
Lab. It describes our general approach to research and your rights and
responsibilities as a researcher, whether that's for a summer, a semester,
or multiple years.

If you don't understand something in this manual, ask for help! Either
you'll learn something or the manual needs to be corrected.


## Rights and responsibilities

Your rights as a lab member:

- You are entitled to a safe work environment, free from harassment,
  abuse, violence, and discrimination in any form.

- You are entitled to be supported and respected by all lab members.

- You are entitled to openly share your scientific ideas and constructive
  feedback with all lab members.

- You are entitled to appropriate credit (authorship, acknowledgment,
  letter of recommendation) for your work and ideas.


Your responsibilities as a lab member:

- You agree to contribute to a safe work environment and to refrain from
  behaviors that harass, abuse, expose to violence, or discriminate.

- You agree to support and respect all lab members, including yourself.

- You agree to openly share your scientific ideas and constructive
  feedback with other lab members.

- You agree to clearly communicate and document your contributions to each
  research project, e.g., through GitHub commit messages, README files,
  emails, etc.

- You agree to establish open lines of communication between yourself and
  other lab members and to address concerns or issues promptly and
  directly with the relevant parties (to the extent that you feel safe
  doing so).

- You agree to carry out your work with integrity and diligence, adhering
  to the standards of scientific excellence.


If you feel that your rights as a lab member have been -- or are in danger
of being -- violated, it is your duty to report those violations to an
appropriate person, e.g., Adam, the chair of the Computer Science
Department, the Dean of Studies, the Title IX coordinator, etc. Similarly,
if you notice others endangering others' rights or neglecting their
responsibilities, it is your duty to report those violations.


## Research principles

The point of research is that we don't already know the answers to the
questions we're exploring or how to create the tools we're working on. We
won't be able to plan everything out in advance. We need to be focused and
efficient even when we don't know the end goal! Toward this end, we
practice a form of *agile research*.

The agile approach to research we use is inspired by the Agile Movement in
the software development world. The idea is to create learning, adaptable
teams to work on bite-sized tasks. Specifically, project teams are
designed to respond to unpredictability in research through incremental,
iterative work "sprints". Each sprint lasts approximately 1-2 weeks and
results in a demonstrable research product, e.g., a draft of a paper, a
draft of a grant, a completed analysis or figure, a poster, a software
tool, etc.

This is different from traditional approaches that you may have
encountered in other labs or work environments, where a research team
might try to plan out every part of a project in advance in a series of
small steps. We still try to break projects into small, actionable pieces,
but the key insight of the agile approach is that we only need to know
what the *next* chunk is, rather than attempting to forecast out over an
extended timeline. Although it's often helpful to have a general -- if
vague -- sense of where things are going, we don't need to know where a
project will ultimately end up. The goals and process are constantly
evolving. Perhaps the best justification for this approach is that *the
first day of a new research project is when you're the most clueless about
what you'll find*. How could that possibly be the ideal time to plan
out the entire project?

These are our research principles:

- The purpose of our work is to benefit the research community through the
  early and continuous delivery of scientific output: ideas,
  presentations, papers, tutorials, tools, and data sets.

- We welcome changing goals, even late in the process. Doing research
  means keeping an open mind. Your original goals and plans may no longer
  apply as your project progresses. Your original hypotheses may be proven
  false. Your assumptions may be incompatible with your data. Allow your
  questions to follow where your data leads, rather than be constrained by
  your initial ideas.

- We deliver research products frequently, from a couple of weeks to a
  couple of couple of months. Until you have a concrete manifestation of
  your latest efforts, e.g., a Git commit, a data set, a figure, a
  statistic, a presentation, or a paper draft, you have nothing to show
  the world for your efforts. Produce research products often, even if
  they're small or seem insignificant. You can always improve on an
  already produced research product.

- Continuous attention to technical excellence and good design enhances
  agility. While producing frequent research products prohibits us from
  fixating on perfection, there are often several similarly efficient ways
  to accomplish tasks that vary in their design quality. For example,
  consider whether the solution to a problem you're working on might also
  apply to other similar problems. Can you make your solution general
  enough to cover those cases? After completing a draft of a research
  product, you will likely have some insights into alternative,
  potentially better, approaches. Can you tweak the product to leverage
  those insights?

- Simplicity is essential. Keep in mind the scope of your task. What's the
  minimum viable set of accomplishments that will allow you to complete
  that task? Get those done first and "release" your product, e.g.,
  commit to Git or share on Slack. You can always define a new set of
  goals for your next task centered around extending your just-released
  research product. This will help to avoid aimless drift, whereby you
  spend large amounts of time on tasks that are, in retrospect,
  tangential to the main scope of work.

- Aim to get some amount of work done *every single day* on your project.
  Commit your changes to GitHub, or document your progress in Slack or an
  electronic lab notebook. Maintain careful records and logs so that
  someone can pick up your work in the future. Remember that your greatest
  collaborator is your past self, but they don't respond to emails or
  Slack messages! Help "future you" by producing methodical, clear work
  with adequate documentation (which might just be the Git commits,
  allowing you compare different versions of a particular file.)

- Build projects around motivated individuals. Give them the environment
  and support they need, and trust them to get the job done. Each day,
  ask yourself, "am I motivated to do my best work on my project today?"
  If the answer is "no", try to understand why. Is it lack of resources?
  Lack of support? Distractions? Ambiguous goals or research directions?
  Talk to your fellow lab members and see how they'd approach the
  challenges you're facing. Don't let yourself get stuck or bored.

- Agile research is sustainable research. Researchers should be able to
  maintain a constant pace indefinitely. Sometimes we have crunch times
  where we absolutely must meet a deadline, but it's far more efficient to
  make steady progress over an extended timeframe than to fluctuate
  between periods of high and low productivity. By distributing your
  workload you'll help yourself avoid burnout, preserve your mental and
  physical health, and allow yourself time to "step back" and think about
  the big picture.


## Research practices

### Communication

The [BarnardNLP Slack](https://barnardnlp.slack.com) server is
where almost all not-in-person lab communications take place. It provides
an interface for asking questions, storing notes, and sharing ideas.

> **Action item**: Create a Slack account and say hello!

Once you've created this account, you can ask any questions through
Slack -- use the [#general](https://barnardnlp.slack.com/messages/general)
channel or the channel specific your project.

In addition, we will schedule in-person or videoconference meetings as
appropriate for a project, typically once a week.

#### Daily Stand Ups

When working together during sumemrs, we will meet (on Zoom or in person) for daily stand ups at 10:15am (EST). We will go around the room and each briefly describe:

- what we worked on the day before
- what we plan on working on today
- any blockers that are or might be preventing you from working

Daily stand ups allow us to keep each other in the loop of our progess. Updating the group about any blockers you are facing will make it easier for us to help each other.

### Code 

We use the [BarnardNLP GitHub](https://github.com/BarnardNLP)
organization for managing code (as well as some data sets or other
resources). Each project will have one or more GitHub repositories
associated with it.

> **Action item**: Create a GitHub account, sign up [here](https://github.com/join).

> **Action item**: Email your GitHub username to Adam and he'll add
> you to the organization.

> **Action item**: If you're not comfortable with Git, please work
> through these [GitHub tutorials](https://try.github.io).


### Computation

All lab members need a computer to get their work done. Generally, we
prefer to use computers running macOS for workstations and Linux for
servers.

Computationally intensive research happens on:

- [Habanero](https://confluence.columbia.edu/confluence/display/rcs/Habanero+HPC+Cluster+User+Documentation), Columbia high-performance computing cluster. Here are some [good](https://confluence.columbia.edu/confluence/display/rcs/Habanero+-+Getting+Started) [guides](https://rabernat.github.io/research_computing/introduction-to-the-habanero-hpc-cluster.html) to go through 
- abox1, a system with 2 GPUs (GeForce RTX 3090) and 64 CPUs for running neural network models.
- abox2, a system with 2 GPUs (GeForce RTX 3080) and 128 CPUs for running neural network models.

If you think your research would benefit from running on Habanero, Adam
can sponsor an account. Our suggested workflow is to do non-intensive
computations and analyses on your personal desktop or laptop computer, and
to offload more intensive analyses to one of these systems.

> **Action item**: If you are using abox{1,2} or Habanero, go 
> through this [Art of the Command Line tutorial](https://github.com/jlevy/the-art-of-command-line)


### Papers

Planning a research paper should start with a discussion of:

- What the paper is going to be about
- What the key results are
- What the overall "story" is
- The current status of various components of the project
  (e.g., data collection, analyses, figures, interpretation, literature
  review, etc.)
- Who is a potential candidate for authorship on the paper

In considering whether a contribution to a project merits authorship on a
paper, we follow the NIH's [General Guidelines for Authorship](NIH).
In general, you likely meet the requirements for authorship if you
contributed in any of the following ways:

- Drafted the manuscript (this typically warrants first authorship)
- Came up with the idea or made other substantial intellectual
  contributions that meaningfully shaped the trajectory of the project
- Carried out an original experimental study
- Carried out non-trivial data analyses
- Contributed novel tools or resources to the project that haven't
  been published yet

You are unlikely to meet the requirements for authorship if your
contributions were limited to the following:

- Running basic data analyses
- Getting trained by one of the other project members on a
  project-related task
- Training another project member on a project-related task
- Sharing already-published tools or resources
- Small editing or commenting on a draft of the manuscript

If you have made a non-trivial contribution to a project but did not meet
the requirements for authorship, you will instead receive a citation in
the acknowledgments section of the paper.

Papers should be written in LaTeX on [Overleaf](https://www.overleaf.com),
an online platform that supports editing LaTeX and producing PDFs in the
browser. Progress should be shared regularly via Slack.

[NIH]: https://oir.nih.gov/sites/default/files/uploads/sourcebook/documents/ethical_conduct/guidelines-authorship_contributions.pdf


### Posters

The current preferred methods for creating posters is Powerpoint. Adam makes pretty ugly posters but has a simple template. If anyone wants to take the lead on coming up with a preferred method for making posters, it is all yours.


## Making mistakes

The work we do is complicated, and mistakes happen. When you notice a
mistake, it's important that you report it promptly. While mistakes are
unavoidable in science, negative impacts can be minimized by fostering a
workplace where reporting mistakes is celebrated and accepted as part of
the natural course of getting things done. Mistakes are opportunities to
learn and grow, and identifying or noticing mistakes should be celebrated
as part of our growth as scientists.

Some scenarios you might encounter are:

- You've shared a figure, statistic, or other result, and you've realized
  there's a bug in the code that generated it.
- You tried to collect some data and the experiment crashed or yielded
  corrupted data.
- You're re-reading a paper that you shared, and you notice a mistake or
  typo.
- You made a plan with your project team and you realized it's flawed in
  some way.
- You released a software package, and you've found a bug or error.

Appropriate actions for each of the above scenarios:

1. Double check, to the best of your ability, that the mistake is
   real. This may involve checking over code, rebooting a computer and
   restarting an experiment, re-reading reference text, etc.
2. Create a GitHub issue describing the problem. Provide information about
   how to reproduce the problem (if applicable), the expected behavior,
   and the observed behavior.
3. Coordinate over Slack to formulate an action plan.


## Who to go to with questions

Technical issues can often be resolved within the lab, but some will
require outside help. Interpersonal issues should be resolved in
accordance with your comfort, but it is important to be aware of the below
resources should you encounter a situation in which you want to use them.

- If you have a question about the lab policies or practices, first try to
  find the answer in this lab manual!

- If you feel your question is not adequately answered in the lab manual,
  post your question on Slack or talk to Adam.

- For questions on papers or posters, talk to Adam.

- For questions about forms, receipts, etc., contact Jared Stickley, jstickle@barnard.edu.


## Acknowledgments

This manual is forked from Jonathan Gordon's Text Processing Lab's [manual](https://github.com/textproclab/lab-manual) at Vasser which was derived primarily from Jeremy Manning's Contextual Dynamics
[lab manual](https://github.com/ContextLab/lab-manual).
